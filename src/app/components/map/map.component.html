<agm-map style="height: 90vh;" [latitude]="mapCenter?.lat" [longitude]="mapCenter?.lng" (mapClick)="mapClick($event)">
  <agm-marker *ngFor="let marker of markers" [latitude]="marker.geopoint._lat" [longitude]="marker.geopoint._long"></agm-marker>
  <agm-polygon *ngIf="config.isEditingPolygon" [paths]="(activePolygon$ | async).paths" (polyMouseUp)="activePolyMouseUp($event)"
    [editable]="true"></agm-polygon>
  <!-- <agm-polygon *ngIf="config.isEditingPolygon" [(paths)]="activePolygon.paths" (polyMouseUp)="activePolyMouseUp($event)" [editable]="true"></agm-polygon> -->
  <agm-polygon *ngFor="let polygon of polygons$ | async; let i = index" [paths]="polygon.paths" (polyMouseUp)="polyMouseUp(polygon, $event, i)"></agm-polygon>
</agm-map>
